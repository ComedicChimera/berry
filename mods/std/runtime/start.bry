module runtime;

@extern("__berry_main")
func _umain();

@abientry("__berry_start")
func _rtstartup() {
    _sys_init();

    // TODO: move this to heap?
    let rstate = Rstate{panicking=false};
    set_rstate(&rstate);

    _umain();

    exit(0);
}

